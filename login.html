<!DOCTYPE html>
<html lang="ko-KR">
	<title>Login</title>
	<head>
		<meta charset="utf-8"/>
		<meta name="description" content="Eoeun Middle School 3-4 page">
		<meta name="author" content="khinenw, onebone">
		<meta name="viewport" content="width=device-width, user-scalable=no">
		<style type="text/css">
			@font-face {
				font-family: "Ubuntu";
				src: url("resources/Ubuntu-R.ttf");
			
			}
			@font-face {
				font-family: "NanumGothic";
				src: url("resources/NanumGothic.ttf");
			}
			header{
				display: inline-block;
			}
			
			header a{
				font-family : "Ubuntu";
				font-size: 15pt;
				color: #0080FF;
				text-align: center;
				text-decoration: none;
				border: 3px solid #0080FF;
			}
			
			header a:hover{
				color: #FF8000;
				border: 3px dashed #FF8000;
			}
			
			section{
				width: 450px;
				height: 250px;
				display: inline-block;
				border: 3px dashed #0080FF;
				position: absolute;
				top: 50%;
				left: 50%;
				margin-right: -50%;
				-webkit-transition: height 0.5s;
				transition: height 0.5s;
				transform: translate(-50%, -50%)
			}
			
			section h1{
				font-family : "Ubuntu";
				font-size: 30pt;
				color: #0080FF;
				text-align: left;
			}
			
			section p{
				font-family : "NanumGothic";
				text-align: left;
				font-size: 10pt;
				color: #707070;
			}
			
			section a{
				font-family : "NanumGothic";
				text-align: left;
				font-size: 10pt;
				text-decoration: none;
				color: #707070;
			}
			
			section a:hover{
				color: #0080FF;
			}
			
			form input{
				font-family: "NanumGothic";
				text-align: left;
				display: inline;
				font-size: 12pt;
				color: #FFFFFF;
				background:#303030;
				border: 3px solid #707070;
			}
			
			form input:focus {
				border-color: #0080FF;
			 }
			
			form .submit{
				font-family: "NanumGothic";
				font-size: 12pt;
				float: right;
				text-align: center;
				color: #303030;
				background: #0080FF;
				border: 3px solid #303030;
			}
			
			form .submit:focus{
				border-color: #0080FF;
			}
			
			form .submit:hover{
				border-color: #FFFFFF;
			}
			
			.signup{
				display:none;
				margin-right: -50%;
				left:50%;
				transform: translate(23%, 0%);
			}
			
			.signup input{
				text-align: center;
				padding-bottom: 5px;
			}
			
			.signup .submit{
				float: center;
				display: inline-block;
				margin-left:4.7%;
				margin-top: 5px;
			}
			
			.stext{
				font-family: "NanumGothic";
				font-size: 12pt;
				float: center;
				margin-left:3.45%;
				color: #303030;
				background: #0080FF;
				border: 3px solid #303030;
			}
			
			.stext:hover{
				color:#303030;
				border-color: #FFFFFF;
			}
			
			body{
				background: #303030;
			}
			
		</style>
	</head>
		
	<script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/sha512.js"></script>
	
	<script type="text/javascript">
		var isLoginMode = true;
		
		function signUp(){
			var signupForm = document.forms["signupForm"];
			var id = loginForm["id"].value;
			var pw = loginForm["pw"].value;
			
			if(id == "" || id == null){
				alert("ID를 입력해주세요!");
				return false;
			}
			if(pw == "" || pw == null){
				alert("비밀번호를 입력해주세요!");
				return false;
			}
			loginForm["pw"] = CryptoJS.SHA512(pw);
			pw = null;
			id = null;
		}
		
		function login(){
			var loginForm = document.forms["loginForm"];
			var id = loginForm["id"].value;
			var pw = loginForm["pw"].value;
			if(id == "" || id == null){
				alert("ID를 입력해주세요!");
				return false;
			}
			if(pw == "" || pw == null){
				alert("비밀번호를 입력해주세요!");
				return false;
			}
			loginForm["pw"] = CryptoJS.SHA512(pw);
			pw = null;
			id = null;
		}
		
		function showSignUp(){
			var p = document.getElementsByTagName("p")[0];
			var h1 = document.getElementsByTagName("h1")[0];
			if(!isLoginMode){
				
				document.getElementsByTagName("section")[0].style.height="250px";
				
				document.getElementsByName("loginForm")[0].style.display = "inherit";
				document.getElementById("forgot").style.display = "inline";
				document.getElementsByName("signupForm")[0].style.display ="none";
				
				document.getElementById("signUp").innerHTML = "If you don't have an account, create one!";
				
				p.style.textAlign = "left";
				h1.style.textAlign = "left";
				
				h1.innerHTML = "Login!"
				p.innerHTML = "ID와 비밀번호를 입력하여 주십시오!"
				
				isLoginMode = true;
			}else{
				
				document.getElementsByTagName("section")[0].style.height="360px";
				document.getElementById("signUp").innerHTML = "If you have an account, login here!";
				
				document.getElementById("forgot").style.display = "none";
				document.getElementsByName("loginForm")[0].style.display = "none";
				
				p.style.textAlign = "center";
				h1.style.textAlign = "center";
				
				p.innerHTML = "간단한 회원가입 절차를 따라주십시오!"
				h1.innerHTML = "Sign Up!";
				
				setTimeout(function(){
					document.getElementsByName("signupForm")[0].style.display ="inherit";
					isLoginMode = false;
				}, 100);
			}
		}
		
	</script>
	
	<body>
		<header id="baggu">
			<a href="index.html">&lt&lt</a>
		</header>
		
		<section id="login">
			<h1>Login!</h1>
			<p>ID와 비밀번호를 입력하여 주십시오!</p>
			<form name="loginForm" action="login.php" method="POST" accept-charset="UTF-8" onsubmit="return login()" autocomplete="off">
				<input type="text" name="id" placeholder="Username">
				<br>
				<input type="password" name="pw" placeholder="Password">
				<input type="submit" class="submit" value="Login!">
			</form>
			
			<form name="signupForm" class="signup" onsubmit="signup.php" method="POST" accept-charset="UTF-8" onsubmit="return signUp()" autocomplete="off">
				<input type="text" name="name" placeholder="Your name">
				<br>
				<input type="text" name="id" placeholder="Username">
				<br>
				<input spellcheck="false" type="email" name="email" placeholder="email">
				<br>
				<input type="password" name="password" placeholder="Password">
				<br>
				<a target="_blank" href="check_id.php" class="stext">Check ur ID!</a>
				<br>
				<input type="submit" class="submit" value="Sign up!">
			</form>
			<a id="forgot" href = "find.html">Forgot your username / password?</a>
			<br>
			<a id="signUp" href="javascript:showSignUp()">If you don't have an account, create one!</a>
		</section>
	</body>
</html>